# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è­°äº‹éŒ²ç”Ÿæˆãƒ„ãƒ¼ãƒ« ä»•æ§˜æ›¸

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### 1.1 ç›®çš„

ãƒã‚¤ã‚¯ã‹ã‚‰ã®éŸ³å£°å…¥åŠ›ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ–‡å­—èµ·ã“ã—ã—ã€ä¼šè­°çµ‚äº†å¾Œã«Claude APIã‚’ä½¿ç”¨ã—ã¦æ§‹é€ åŒ–ã•ã‚ŒãŸè­°äº‹éŒ²ã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹Pythonãƒ„ãƒ¼ãƒ«ã€‚

### 1.2 ç¾çŠ¶ã®èª²é¡Œ

- whisper.cppã®`whisper-stream`ã§ä¸€æ™‚ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã¿
- æ‰‹å‹•ã§Claude Codeã«èª­ã¿è¾¼ã¾ã›ã¦è­°äº‹éŒ²ç”Ÿæˆ
- è¤‡æ•°ã‚¹ãƒ†ãƒƒãƒ—ãŒå¿…è¦ã§éåŠ¹ç‡

### 1.3 è§£æ±ºç­–

éŸ³å£°å…¥åŠ›â†’æ–‡å­—èµ·ã“ã—â†’è­°äº‹éŒ²ç”Ÿæˆã‚’ä¸€æ°—é€šè²«ã§è¡Œã†Pythonã‚¹ã‚¯ãƒªãƒ—ãƒˆ

---

## 2. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹                            â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ AudioInput  â”‚â”€â”€â”€â–¶â”‚ Transcriber â”‚â”€â”€â”€â–¶â”‚ MinutesGenerator    â”‚ â”‚
â”‚  â”‚ (éŒ²éŸ³)      â”‚    â”‚ (Whisper)   â”‚    â”‚ (Claude API)        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                  â”‚                      â”‚             â”‚
â”‚         â–¼                  â–¼                      â–¼             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ãƒã‚¤ã‚¯å…¥åŠ›   â”‚    â”‚ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  â”‚    â”‚ Markdownè­°äº‹éŒ²      â”‚ â”‚
â”‚  â”‚ sounddevice â”‚    â”‚ æ–‡å­—è¡¨ç¤º     â”‚    â”‚ ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. æ©Ÿèƒ½è¦ä»¶

### 3.1 éŸ³å£°å…¥åŠ›æ©Ÿèƒ½

- \[ ] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒã‚¤ã‚¯ã‹ã‚‰ã®éŸ³å£°ã‚­ãƒ£ãƒ—ãƒãƒ£
- \[ ] ã‚µãƒ³ãƒ—ãƒ«ãƒ¬ãƒ¼ãƒˆ: 16000Hzï¼ˆWhisperæ¨å¥¨ï¼‰
- \[ ] ãƒ¢ãƒãƒ©ãƒ«å…¥åŠ›
- \[ ] éŒ²éŸ³é–‹å§‹/åœæ­¢ã®ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰åˆ¶å¾¡ï¼ˆCtrl+C or 'q'ã‚­ãƒ¼ï¼‰

### 3.2 æ–‡å­—èµ·ã“ã—æ©Ÿèƒ½

- \[ ] faster-whisperã«ã‚ˆã‚‹ãƒ­ãƒ¼ã‚«ãƒ«éŸ³å£°èªè­˜
- \[ ] æ—¥æœ¬èªå¯¾å¿œï¼ˆ`language="ja"`ï¼‰
- \[ ] VADãƒ•ã‚£ãƒ«ã‚¿ã«ã‚ˆã‚‹ç„¡éŸ³åŒºé–“ã‚¹ã‚­ãƒƒãƒ—
- \[ ] ãƒãƒ£ãƒ³ã‚¯å˜ä½ï¼ˆ5ç§’ç¨‹åº¦ï¼‰ã§ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†
- \[ ] ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ããƒ†ã‚­ã‚¹ãƒˆå‡ºåŠ›
- \[ ] æ–‡å­—èµ·ã“ã—çµæœã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºï¼ˆæ¨™æº–å‡ºåŠ›ï¼‰

### 3.3 è­°äº‹éŒ²ç”Ÿæˆæ©Ÿèƒ½

- \[ ] æ§‹é€ åŒ–ã•ã‚ŒãŸMarkdownå½¢å¼ã®å‡ºåŠ›
- \[ ] ãƒ•ã‚¡ã‚¤ãƒ«è‡ªå‹•ä¿å­˜
- \[ ] **3ã¤ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é¸æŠå¯èƒ½:**

#### 3.3.1 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é¸æŠ

| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰     | èª²é‡‘        | ç‰¹å¾´                       |
| ---------------- | ----------- | -------------------------- |
| **api**          | å¾“é‡èª²é‡‘    | å®‰å®šã€APIã‚­ãƒ¼å¿…è¦          |
| **claude-agent** | Maxãƒ—ãƒ©ãƒ³å†… | SDKä½¿ç”¨ã€OAuthãƒˆãƒ¼ã‚¯ãƒ³å¿…è¦ |
| **claude-cli**   | Maxãƒ—ãƒ©ãƒ³å†… | subprocessã€æœ€ã‚‚å®‰å®š       |

```bash
# APIæ–¹å¼ï¼ˆå¾“é‡èª²é‡‘ï¼‰
python meeting_transcriber.py --backend api

# Claude Agent SDKæ–¹å¼ï¼ˆMaxãƒ—ãƒ©ãƒ³ + OAuthãƒˆãƒ¼ã‚¯ãƒ³ï¼‰
python meeting_transcriber.py --backend claude-agent

# Claude Code CLIæ–¹å¼ï¼ˆMaxãƒ—ãƒ©ãƒ³ + subprocessï¼‰
python meeting_transcriber.py --backend claude-cli

# è‡ªå‹•é¸æŠï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
python meeting_transcriber.py --backend auto
```

**autoï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰ã®å„ªå…ˆé †ä½:**

1. `CLAUDE_CODE_OAUTH_TOKEN` ã‚ã‚Š â†’ `claude-agent`
2. `claude` CLI ãŒåˆ©ç”¨å¯èƒ½ â†’ `claude-cli`
3. `ANTHROPIC_API_KEY` ã‚ã‚Š â†’ `api`
4. ã©ã‚Œã‚‚ãªã— â†’ ã‚¨ãƒ©ãƒ¼

#### 3.3.2 Anthropic APIæ–¹å¼ï¼ˆå¾“é‡èª²é‡‘ï¼‰

- ç’°å¢ƒå¤‰æ•° `ANTHROPIC_API_KEY` ãŒå¿…è¦
- å®‰å®šã—ãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹ã€ä¸¦åˆ—å‡¦ç†å¯èƒ½
- **ã‚³ã‚¹ãƒˆç›®å®‰**: 1æ™‚é–“ä¼šè­°ã§5å›æ›´æ–° â†’ ç´„ $0.03ã€œ0.05

```python
import anthropic

class AnthropicAPIBackend:
    """Anthropic APIã‚’ç›´æ¥ä½¿ç”¨ï¼ˆå¾“é‡èª²é‡‘ï¼‰"""

    def __init__(self):
        self.client = anthropic.Anthropic()

    def generate(self, prompt: str) -> str:
        response = self.client.messages.create(
            model="claude-sonnet-4-20250514",
            max_tokens=4096,
            messages=[{"role": "user", "content": prompt}]
        )
        return response.content[0].text
```

#### 3.3.3 Claude Agent SDKæ–¹å¼ï¼ˆMaxãƒ—ãƒ©ãƒ³ + OAuthãƒˆãƒ¼ã‚¯ãƒ³ï¼‰

- `pip install claude-agent-sdk` ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- ç’°å¢ƒå¤‰æ•° `CLAUDE_CODE_OAUTH_TOKEN` ãŒå¿…è¦
- Maxãƒ—ãƒ©ãƒ³ï¼ˆ$100/200ï¼‰ã®ç¯„å›²å†…ã§åˆ©ç”¨å¯èƒ½

**OAuthãƒˆãƒ¼ã‚¯ãƒ³ã®å–å¾—æ–¹æ³•:**

```bash
# Claude Code CLIã§ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç”Ÿæˆ
claude setup-token

# ç”Ÿæˆã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç’°å¢ƒå¤‰æ•°ã«è¨­å®š
export CLAUDE_CODE_OAUTH_TOKEN=your-oauth-token-here
```

**å®Ÿè£…:**

```python
import os
import anyio
from claude_agent_sdk import query, ClaudeAgentOptions

class ClaudeAgentBackend:
    """Claude Agent SDK + OAuthãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆMaxãƒ—ãƒ©ãƒ³æ´»ç”¨ï¼‰"""

    def __init__(self):
        self.options = ClaudeAgentOptions(max_tokens=4096)

    async def generate_async(self, prompt: str) -> str:
        result_parts = []
        async for message in query(prompt=prompt, options=self.options):
            if hasattr(message, 'content'):
                for block in message.content:
                    if hasattr(block, 'text'):
                        result_parts.append(block.text)
        return ''.join(result_parts)

    def generate(self, prompt: str) -> str:
        return anyio.run(self.generate_async, prompt)

    @staticmethod
    def check_available() -> bool:
        try:
            from claude_agent_sdk import query
            return bool(os.environ.get('CLAUDE_CODE_OAUTH_TOKEN'))
        except ImportError:
            return False
```

**æ³¨æ„ç‚¹:**

- OAuthãƒˆãƒ¼ã‚¯ãƒ³ã«ã¯æœ‰åŠ¹æœŸé™ã‚ã‚Šï¼ˆæœŸé™åˆ‡ã‚Œæ™‚ã¯ `claude setup-token` ã§å†ç”Ÿæˆï¼‰
- GitHub Actionsã§ã¯å…¬å¼ã‚µãƒãƒ¼ãƒˆæ¸ˆã¿

#### 3.3.4 Claude Code CLIæ–¹å¼ï¼ˆMaxãƒ—ãƒ©ãƒ³ + subprocessï¼‰

- `claude` ã‚³ãƒãƒ³ãƒ‰ã‚’ subprocess ã§å‘¼ã³å‡ºã—
- Maxãƒ—ãƒ©ãƒ³ã«ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ãªã‚‰è¿½åŠ è¨­å®šä¸è¦
- **æœ€ã‚‚å®‰å®šã—ãŸæ–¹å¼**

```python
import subprocess
import os

class ClaudeCLIBackend:
    """Claude Code CLIã‚’subprocessã§å‘¼ã³å‡ºã—ï¼ˆMaxãƒ—ãƒ©ãƒ³æ´»ç”¨ï¼‰"""

    def generate(self, prompt: str) -> str:
        # ANTHROPIC_API_KEY ãŒã‚ã‚‹ã¨ APIèª²é‡‘ã«ãªã‚‹ã®ã§ä¸€æ™‚çš„ã«é™¤å»
        env = os.environ.copy()
        env.pop('ANTHROPIC_API_KEY', None)

        result = subprocess.run(
            ["claude", "-p", prompt, "--output-format", "text"],
            capture_output=True,
            text=True,
            timeout=120,
            env=env
        )

        if result.returncode != 0:
            raise RuntimeError(f"Claude CLI error: {result.stderr}")

        return result.stdout.strip()

    @staticmethod
    def check_available() -> bool:
        try:
            result = subprocess.run(
                ["claude", "--version"],
                capture_output=True,
                timeout=5
            )
            return result.returncode == 0
        except FileNotFoundError:
            return False
```

#### 3.3.5 ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è‡ªå‹•é¸æŠ

```python
import os

def get_backend(config: Config) -> Backend:
    """è¨­å®šã«åŸºã¥ã„ã¦ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’é¸æŠ"""

    if config.backend == "api":
        if not os.environ.get('ANTHROPIC_API_KEY'):
            raise RuntimeError("ANTHROPIC_API_KEY ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“")
        print("âœ… Anthropic API ã‚’ä½¿ç”¨ã—ã¾ã™ï¼ˆå¾“é‡èª²é‡‘ï¼‰")
        return AnthropicAPIBackend()

    elif config.backend == "claude-agent":
        if not ClaudeAgentBackend.check_available():
            raise RuntimeError(
                "CLAUDE_CODE_OAUTH_TOKEN ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“\n"
                "claude setup-token ã§ OAuthãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ã¦ãã ã•ã„"
            )
        print("âœ… Claude Agent SDK ã‚’ä½¿ç”¨ã—ã¾ã™ï¼ˆMaxãƒ—ãƒ©ãƒ³ï¼‰")
        return ClaudeAgentBackend()

    elif config.backend == "claude-cli":
        if not ClaudeCLIBackend.check_available():
            raise RuntimeError("Claude Code CLI ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“")
        print("âœ… Claude Code CLI ã‚’ä½¿ç”¨ã—ã¾ã™ï¼ˆMaxãƒ—ãƒ©ãƒ³ï¼‰")
        return ClaudeCLIBackend()

    else:  # auto
        if ClaudeAgentBackend.check_available():
            print("âœ… Claude Agent SDK ã‚’ä½¿ç”¨ã—ã¾ã™ï¼ˆMaxãƒ—ãƒ©ãƒ³ï¼‰")
            return ClaudeAgentBackend()

        if ClaudeCLIBackend.check_available():
            print("âœ… Claude Code CLI ã‚’ä½¿ç”¨ã—ã¾ã™ï¼ˆMaxãƒ—ãƒ©ãƒ³ï¼‰")
            return ClaudeCLIBackend()

        if os.environ.get('ANTHROPIC_API_KEY'):
            print("âœ… Anthropic API ã‚’ä½¿ç”¨ã—ã¾ã™ï¼ˆå¾“é‡èª²é‡‘ï¼‰")
            return AnthropicAPIBackend()

        raise RuntimeError(
            "åˆ©ç”¨å¯èƒ½ãªãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã‚’è¨­å®š:\n"
            "1. CLAUDE_CODE_OAUTH_TOKEN (claude setup-token)\n"
            "2. Claude Code CLI ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n"
            "3. ANTHROPIC_API_KEY"
        )
```

### 3.4 è­°äº‹éŒ²æ›´æ–°æ©Ÿèƒ½ï¼ˆãƒ¡ã‚¤ãƒ³æ©Ÿèƒ½ï¼‰

#### 3.4.1 åŸºæœ¬ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

- **æ‰‹å‹•ãƒˆãƒªã‚¬ãƒ¼æ–¹å¼**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä»»æ„ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦è­°äº‹éŒ²ã‚’æ›´æ–°
- å‰å›ã®æ›´æ–°æ™‚ç‚¹ã‹ã‚‰ç¾åœ¨ã¾ã§ã®å·®åˆ†ã‚’ç†è§£ã—ã¦è­°äº‹éŒ²ã«åæ˜ 
- è‡ªå‹•æ›´æ–°ã¯ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã‚ªãƒ•ï¼‰

#### 3.4.2 æ“ä½œæ–¹æ³•

- \[ ] `u` ã‚­ãƒ¼ ã¾ãŸã¯ `Enter` ã‚­ãƒ¼ã§è­°äº‹éŒ²æ›´æ–°ã‚’ãƒˆãƒªã‚¬ãƒ¼
- \[ ] `s` ã‚­ãƒ¼ã§ç¾åœ¨ã®çŠ¶æ…‹ã‚’ä¿å­˜ï¼ˆè­°äº‹éŒ²æ›´æ–°ãªã—ï¼‰
- \[ ] `q` ã‚­ãƒ¼ ã¾ãŸã¯ `Ctrl+C` ã§çµ‚äº†ï¼ˆæœ€çµ‚è­°äº‹éŒ²ã‚’ç”Ÿæˆï¼‰
- \[ ] `?` ã‚­ãƒ¼ã§ãƒ˜ãƒ«ãƒ—è¡¨ç¤º

#### 3.4.3 å·®åˆ†æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯

```
åˆå›æ›´æ–°æ™‚:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [00:00] ç™ºè¨€1                                       â”‚
â”‚ [00:05] ç™ºè¨€2                                       â”‚
â”‚ [00:12] ç™ºè¨€3  â†â”€â”€ å…¨ä½“ã‹ã‚‰è­°äº‹éŒ²v1ã‚’ç”Ÿæˆ           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
                    è­°äº‹éŒ² v1

2å›ç›®ä»¥é™ã®æ›´æ–°æ™‚:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [00:00] ç™ºè¨€1  â”                                    â”‚
â”‚ [00:05] ç™ºè¨€2  â”œâ”€â”€ å‰å›å‡¦ç†æ¸ˆã¿ï¼ˆè­°äº‹éŒ²v1ã«åæ˜ æ¸ˆã¿ï¼‰â”‚
â”‚ [00:12] ç™ºè¨€3  â”˜                                    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ å‰å›æ›´æ–°ãƒã‚¤ãƒ³ãƒˆ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ [00:18] ç™ºè¨€4  â”                                    â”‚
â”‚ [00:25] ç™ºè¨€5  â”œâ”€â”€ ä»Šå›ã®å·®åˆ†ï¼ˆæ–°è¦ç™ºè¨€ï¼‰           â”‚
â”‚ [00:30] ç™ºè¨€6  â”˜                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
    è­°äº‹éŒ²v1 + å·®åˆ†ç™ºè¨€ â†’ Claude API â†’ è­°äº‹éŒ² v2
```

#### 3.4.4 å·®åˆ†æ›´æ–°æ™‚ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```
ã‚ãªãŸã¯è­°äº‹éŒ²ä½œæˆã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã§ã™ã€‚
æ—¢å­˜ã®è­°äº‹éŒ²ã«æ–°ã—ã„ç™ºè¨€å†…å®¹ã‚’çµ±åˆã—ã¦ã€è­°äº‹éŒ²ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚

ã€ãƒ«ãƒ¼ãƒ«ã€‘
- æ–°ã—ã„æƒ…å ±ã‚’é©åˆ‡ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¿½åŠ ãƒ»çµ±åˆã™ã‚‹
- æ—¢å­˜ã®å†…å®¹ã¨é‡è¤‡ã™ã‚‹å ´åˆã¯çµ±åˆã—ã¦ã¾ã¨ã‚ã‚‹
- è­°è«–ã®æµã‚ŒãŒåˆ†ã‹ã‚‹ã‚ˆã†ã«æ™‚ç³»åˆ—ã‚’æ„è­˜ã™ã‚‹
- æ±ºå®šäº‹é …ã‚„TODOãŒå‡ºãŸã‚‰è©²å½“ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«è¿½åŠ 
- å…¨ä½“ã®æ§‹æˆãƒ»ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¯ç¶­æŒã™ã‚‹

ã€ç¾åœ¨ã®è­°äº‹éŒ²ã€‘
{current_minutes}

ã€å‰å›æ›´æ–°ã‹ã‚‰ã®æ–°ã—ã„ç™ºè¨€ã€‘
{new_transcripts}

ã€å‡ºåŠ›ã€‘
æ›´æ–°å¾Œã®è­°äº‹éŒ²å…¨ä½“ã‚’Markdownå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚
```

#### 3.4.5 æ©Ÿèƒ½è¦ä»¶

- \[ ] æ‰‹å‹•æ›´æ–°ãƒˆãƒªã‚¬ãƒ¼ï¼ˆã‚­ãƒ¼å…¥åŠ›ï¼‰
- \[ ] å·®åˆ†æ¤œå‡ºï¼ˆå‰å›æ›´æ–°ä½ç½®ã®è¨˜éŒ²ï¼‰
- \[ ] å·®åˆ†ãƒ™ãƒ¼ã‚¹ã®è­°äº‹éŒ²æ›´æ–°
- \[ ] æ›´æ–°å±¥æ­´ã®ç®¡ç†ï¼ˆä½•å›ç›®ã®æ›´æ–°ã‹ï¼‰
- \[ ] ã‚ªãƒ—ã‚·ãƒ§ãƒ³: è‡ªå‹•æ›´æ–°ãƒ¢ãƒ¼ãƒ‰ï¼ˆä¸€å®šé–“éš”ï¼‰
- \[ ] æ›´æ–°ä¸­ã‚‚éŒ²éŸ³ãƒ»æ–‡å­—èµ·ã“ã—ã¯ç¶™ç¶šï¼ˆéåŒæœŸå‡¦ç†ï¼‰
- \[ ] æ›´æ–°å®Œäº†æ™‚ã«ã‚¿ãƒ¼ãƒŸãƒŠãƒ«é€šçŸ¥

### 3.5 è¨­å®šæ©Ÿèƒ½

- \[ ] ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã§è¨­å®šå¯èƒ½
- \[ ] è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`~/.config/meeting-transcriber/config.yaml`ï¼‰å¯¾å¿œ
- \[ ] Whisperãƒ¢ãƒ‡ãƒ«ã‚µã‚¤ã‚ºé¸æŠï¼ˆtiny/small/medium/largeï¼‰
- \[ ] å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª / Obsidian Vault æŒ‡å®š
- \[ ] è­°äº‹éŒ²ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

#### 3.5.1 è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä¾‹

```yaml
# ~/.config/meeting-transcriber/config.yaml

# Whisperè¨­å®š
model_size: small
language: ja

# LLMãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è¨­å®š
# api: Anthropic APIï¼ˆå¾“é‡èª²é‡‘ã€ANTHROPIC_API_KEYå¿…è¦ï¼‰
# claude-agent: Claude Agent SDKï¼ˆMaxãƒ—ãƒ©ãƒ³ã€CLAUDE_CODE_OAUTH_TOKENå¿…è¦ï¼‰
# claude-cli: Claude Code CLI subprocessï¼ˆMaxãƒ—ãƒ©ãƒ³ã€æœ€ã‚‚å®‰å®šï¼‰
# auto: åˆ©ç”¨å¯èƒ½ãªæ–¹å¼ã‚’è‡ªå‹•é¸æŠï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
backend: auto

# å‡ºåŠ›è¨­å®š
obsidian_vault: ~/Obsidian/MyVault
obsidian_folder: meetings
filename_format: "meeting_%Y%m%d_%H%M%S"
open_after: true

# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­å®š
default_template: default # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½¿ç”¨ã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

# ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªè¨­å®š
device_id: null # null = ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ‡ãƒã‚¤ã‚¹
sample_rate: 16000
chunk_duration: 5

# è­°äº‹éŒ²è¨­å®š
auto_update: false
update_interval: 120
version_history: false
```

â€» ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°ã¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚ˆã‚Šå„ªå…ˆ

### 3.6 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæ©Ÿèƒ½

#### 3.6.1 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¿å­˜å ´æ‰€

```
~/.config/meeting-transcriber/
â”œâ”€â”€ config.yaml
â””â”€â”€ templates/
    â”œâ”€â”€ default.md      # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆæ±ç”¨ï¼‰
    â”œâ”€â”€ 1on1.md         # 1on1ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç”¨
    â”œâ”€â”€ brainstorm.md   # ãƒ–ãƒ¬ã‚¹ãƒˆç”¨
    â”œâ”€â”€ standup.md      # æœä¼šãƒ»ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒƒãƒ—ç”¨
    â”œâ”€â”€ client.md       # é¡§å®¢æ‰“ã¡åˆã‚ã›ç”¨
    â””â”€â”€ custom.md       # è‡ªä½œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
```

#### 3.6.2 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå½¢å¼

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯Markdown + ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å½¢å¼:

```markdown
---
# ãƒ¡ã‚¿æƒ…å ±ï¼ˆYAMLå½¢å¼ï¼‰
name: "1on1ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°"
description: "1å¯¾1ã®å®šæœŸãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç”¨"
tags:
  - meeting
  - 1on1
---

# 1on1 è­°äº‹éŒ² - {{date}}

## åŸºæœ¬æƒ…å ±

- **æ—¥æ™‚**: {{date}} {{time}}
- **å‚åŠ è€…**:

## å‰å›ã‹ã‚‰ã®é€²æ—

-

## ä»Šå›ã®è­°é¡Œ

### æ¥­å‹™ã«ã¤ã„ã¦

-

### ã‚­ãƒ£ãƒªã‚¢ãƒ»æˆé•·ã«ã¤ã„ã¦

-

### å›°ã£ã¦ã„ã‚‹ã“ã¨ãƒ»ç›¸è«‡

-

## ãƒã‚¯ã‚¹ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³

| æ‹…å½“ | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | æœŸé™ |
| ---- | ---------- | ---- |
|      |            |      |

## æ¬¡å›ã¾ã§ã®ç›®æ¨™

-

---

_è‡ªå‹•ç”Ÿæˆ: {{datetime}}_
```

#### 3.6.3 ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ä¸€è¦§

| ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼   | èª¬æ˜           | ä¾‹                         |
| ------------------ | -------------- | -------------------------- |
| `{{date}}`         | æ—¥ä»˜           | 2024-12-19                 |
| `{{time}}`         | é–‹å§‹æ™‚åˆ»       | 14:30                      |
| `{{end_time}}`     | çµ‚äº†æ™‚åˆ»       | 15:45                      |
| `{{datetime}}`     | æ—¥æ™‚ï¼ˆãƒ•ãƒ«ï¼‰   | 2024-12-19 14:30:52        |
| `{{duration}}`     | æ‰€è¦æ™‚é–“       | 01:15:23                   |
| `{{update_count}}` | æ›´æ–°å›æ•°       | 3                          |
| `{{transcript}}`   | æ–‡å­—èµ·ã“ã—å…¨æ–‡ | ï¼ˆå·®åˆ†æ›´æ–°æ™‚ã¯ä½¿ç”¨ã—ãªã„ï¼‰ |

#### 3.6.4 ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

**default.mdï¼ˆæ±ç”¨ï¼‰**

- æ¨™æº–çš„ãªè­°äº‹éŒ²ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- è­°é¡Œã€è­°è«–å†…å®¹ã€æ±ºå®šäº‹é …ã€TODO

**1on1.md**

- é€²æ—ç¢ºèªã€ã‚­ãƒ£ãƒªã‚¢ç›¸è«‡ã€å›°ã‚Šã”ã¨
- ãƒã‚¯ã‚¹ãƒˆã‚¢ã‚¯ã‚·ãƒ§ãƒ³é‡è¦–

**brainstorm.md**

- ã‚¢ã‚¤ãƒ‡ã‚¢åˆ—æŒ™ã€ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°
- çµè«–ãƒ»æ¡ç”¨ã‚¢ã‚¤ãƒ‡ã‚¢ã®ã¾ã¨ã‚

**standup.md**

- æ˜¨æ—¥ã‚„ã£ãŸã“ã¨ã€ä»Šæ—¥ã‚„ã‚‹ã“ã¨ã€å›°ã£ã¦ã„ã‚‹ã“ã¨
- ã‚·ãƒ³ãƒ—ãƒ«ãƒ»çŸ­æ™‚é–“å‘ã‘

**client.md**

- é¡§å®¢æƒ…å ±ã€è¦ä»¶ã€åˆæ„äº‹é …
- ãƒ•ã‚©ãƒ¼ãƒãƒ«ãªå½¢å¼

#### 3.6.5 ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½¿ç”¨ä¾‹

```bash
# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
python meeting_transcriber.py

# 1on1ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
python meeting_transcriber.py -t 1on1

# ãƒ–ãƒ¬ã‚¹ãƒˆç”¨
python meeting_transcriber.py --template brainstorm

# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§è¡¨ç¤º
python meeting_transcriber.py --list-templates

# å‡ºåŠ›ä¾‹:
# åˆ©ç”¨å¯èƒ½ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:
#   default     - æ±ç”¨è­°äº‹éŒ²
#   1on1        - 1on1ãƒŸãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç”¨
#   brainstorm  - ãƒ–ãƒ¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒŸãƒ³ã‚°ç”¨
#   standup     - æœä¼šãƒ»ã‚¹ã‚¿ãƒ³ãƒ‰ã‚¢ãƒƒãƒ—ç”¨
#   client      - é¡§å®¢æ‰“ã¡åˆã‚ã›ç”¨
```

---

## 4. æŠ€è¡“è¦ä»¶

### 4.1 å‹•ä½œç’°å¢ƒ

- OS: Linux (Ubuntu 22.04+)
- Python: 3.10+
- GPU: NVIDIA CUDAå¯¾å¿œGPUï¼ˆæ¨å¥¨ï¼‰ã€ã¾ãŸã¯CPUå‹•ä½œ

### 4.2 ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

```txt
# requirements.txt
faster-whisper>=1.0.0
sounddevice>=0.4.6
numpy>=1.24.0
anthropic>=0.18.0        # APIæ–¹å¼ç”¨
claude-agent-sdk>=0.1.0  # Claude Agent SDKæ–¹å¼ç”¨ï¼ˆMaxãƒ—ãƒ©ãƒ³æ´»ç”¨ï¼‰
python-dotenv>=1.0.0
readchar>=4.0.0          # éãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã‚­ãƒ¼å…¥åŠ›ç”¨
pyyaml>=6.0              # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç”¨
jinja2>=3.1.0            # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚¨ãƒ³ã‚¸ãƒ³ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
anyio>=4.0.0             # éåŒæœŸå‡¦ç†ç”¨
```

### 4.3 ç’°å¢ƒå¤‰æ•°

```bash
# APIæ–¹å¼ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆ
ANTHROPIC_API_KEY=sk-ant-xxxxx

# Claude Agent SDKæ–¹å¼ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆï¼ˆOAuthãƒˆãƒ¼ã‚¯ãƒ³ï¼‰
CLAUDE_CODE_OAUTH_TOKEN=xxxxx  # claude setup-token ã§å–å¾—

# Claude CLIæ–¹å¼ã®å ´åˆã¯ç’°å¢ƒå¤‰æ•°ä¸è¦ï¼ˆCLIãŒMaxãƒ—ãƒ©ãƒ³èªè¨¼ã‚’ç®¡ç†ï¼‰
```

---

## 5. ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­è¨ˆ

### 5.1 ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°

```bash
python meeting_transcriber.py [OPTIONS]

Options:
  --model, -m         Whisperãƒ¢ãƒ‡ãƒ«ã‚µã‚¤ã‚º [tiny|small|medium|large-v3] (default: small)
  --language, -l      èªè­˜è¨€èª (default: ja)
  --device, -d        éŸ³å£°å…¥åŠ›ãƒ‡ãƒã‚¤ã‚¹ID (default: ã‚·ã‚¹ãƒ†ãƒ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)
  --list-devices      åˆ©ç”¨å¯èƒ½ãªéŸ³å£°ãƒ‡ãƒã‚¤ã‚¹ä¸€è¦§ã‚’è¡¨ç¤º
  --no-realtime       ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ–‡å­—èµ·ã“ã—è¡¨ç¤ºã‚’ç„¡åŠ¹åŒ–

  # LLMãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è¨­å®š
  --backend, -b       LLMãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ [api|claude-agent|claude-cli|auto] (default: auto)
                      api: Anthropic APIï¼ˆå¾“é‡èª²é‡‘ï¼‰
                      claude-agent: Claude Agent SDK + OAuthãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆMaxãƒ—ãƒ©ãƒ³ï¼‰
                      claude-cli: Claude Code CLI subprocessï¼ˆMaxãƒ—ãƒ©ãƒ³ã€æœ€ã‚‚å®‰å®šï¼‰
                      auto: åˆ©ç”¨å¯èƒ½ãªæ–¹å¼ã‚’è‡ªå‹•é¸æŠ

  # å‡ºåŠ›è¨­å®š
  --output, -o        å‡ºåŠ›ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª (default: ./output)
  --filename, -f      å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«åãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ (default: "meeting_%Y%m%d_%H%M%S")
  --obsidian-vault    Obsidian Vaultã®ãƒ‘ã‚¹ï¼ˆæŒ‡å®šæ™‚ã¯Vaultç›´ä¸‹ã«å‡ºåŠ›ï¼‰
  --obsidian-folder   Vaultå†…ã®ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€ (default: "meetings")
  --open-after        çµ‚äº†å¾Œã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãï¼ˆxdg-openï¼‰

  # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­å®š
  --template, -t      ä½¿ç”¨ã™ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå (default: "default")
  --list-templates    åˆ©ç”¨å¯èƒ½ãªãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§ã‚’è¡¨ç¤º

  # è­°äº‹éŒ²æ›´æ–°ã‚ªãƒ—ã‚·ãƒ§ãƒ³
  --auto-update       è‡ªå‹•æ›´æ–°ãƒ¢ãƒ¼ãƒ‰ã‚’æœ‰åŠ¹åŒ–ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯æ‰‹å‹•ï¼‰
  --update-interval   è‡ªå‹•æ›´æ–°ã®é–“éš”ï¼ˆç§’ï¼‰(default: 120) â€»--auto-updateæ™‚ã®ã¿æœ‰åŠ¹
  --version-history   æ›´æ–°ã”ã¨ã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¿å­˜ï¼ˆä¸Šæ›¸ãã—ãªã„ï¼‰

  --help, -h          ãƒ˜ãƒ«ãƒ—è¡¨ç¤º
```

### 5.2 ã‚­ãƒ¼æ“ä½œï¼ˆéŒ²éŸ³ä¸­ï¼‰

| ã‚­ãƒ¼           | å‹•ä½œ                                     |
| -------------- | ---------------------------------------- |
| `u` / `Enter`  | è­°äº‹éŒ²ã‚’æ›´æ–°ï¼ˆå·®åˆ†åæ˜ ï¼‰                 |
| `f`            | è­°äº‹éŒ²ã‚’å…¨ä½“å†ç”Ÿæˆï¼ˆãƒ•ãƒ«æ›´æ–°ï¼‰           |
| `s`            | ç¾åœ¨ã®æ–‡å­—èµ·ã“ã—ã‚’ä¿å­˜ï¼ˆè­°äº‹éŒ²æ›´æ–°ãªã—ï¼‰ |
| `p`            | ä¸€æ™‚åœæ­¢/å†é–‹                            |
| `q` / `Ctrl+C` | çµ‚äº†ï¼ˆæœ€çµ‚è­°äº‹éŒ²ç”Ÿæˆï¼‰                   |
| `?`            | ãƒ˜ãƒ«ãƒ—è¡¨ç¤º                               |

### 5.3 ä½¿ç”¨ä¾‹

```bash
# åŸºæœ¬çš„ãªä½¿ç”¨ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è‡ªå‹•é¸æŠï¼‰
python meeting_transcriber.py

# Claude Agent SDK ã‚’ä½¿ç”¨ï¼ˆMaxãƒ—ãƒ©ãƒ³ + OAuthãƒˆãƒ¼ã‚¯ãƒ³ï¼‰
python meeting_transcriber.py --backend claude-agent

# Claude Code CLI ã‚’ä½¿ç”¨ï¼ˆMaxãƒ—ãƒ©ãƒ³ + subprocessã€æœ€ã‚‚å®‰å®šï¼‰
python meeting_transcriber.py --backend claude-cli

# API ã‚’ä½¿ç”¨ï¼ˆå¾“é‡èª²é‡‘ï¼‰
python meeting_transcriber.py --backend api

# Obsidian Vaultã«ç›´æ¥å‡ºåŠ›
python meeting_transcriber.py --obsidian-vault ~/Obsidian/MyVault

# Obsidian Vaultã®ç‰¹å®šãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›
python meeting_transcriber.py --obsidian-vault ~/Obsidian/MyVault --obsidian-folder "Work/è­°äº‹éŒ²"

# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æŒ‡å®šã—ã¦èµ·å‹•
python meeting_transcriber.py -t 1on1
python meeting_transcriber.py --template brainstorm
python meeting_transcriber.py -t client --obsidian-vault ~/Obsidian/MyVault

# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§ã‚’è¡¨ç¤º
python meeting_transcriber.py --list-templates

# ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
python meeting_transcriber.py --obsidian-vault ~/Obsidian/MyVault --filename "MTG_%Y%m%d"

# å‡ºåŠ›å…ˆã‚’ä»»æ„ã®ãƒ•ã‚©ãƒ«ãƒ€ã«æŒ‡å®š
python meeting_transcriber.py -o ~/Documents/meetings

# çµ‚äº†å¾Œã«ã‚¨ãƒ‡ã‚£ã‚¿ã§é–‹ã
python meeting_transcriber.py --obsidian-vault ~/Obsidian/MyVault --open-after

# ãƒ•ãƒ«æŒ‡å®šä¾‹ï¼ˆMaxãƒ—ãƒ©ãƒ³ + 1on1ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ + Obsidianå‡ºåŠ›ï¼‰
python meeting_transcriber.py -b claude-cli -t 1on1 --obsidian-vault ~/Obsidian/MyVault

# ãƒ¢ãƒ‡ãƒ«ã¨ãƒ‡ãƒã‚¤ã‚¹ã‚’æŒ‡å®š
python meeting_transcriber.py -m medium -d 2
```

---

## 6. ã‚¯ãƒ©ã‚¹è¨­è¨ˆ

### 6.1 ãƒ¡ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹æ§‹æˆ

```python
class AudioRecorder:
    """éŸ³å£°å…¥åŠ›ã‚’ç®¡ç†"""
    def __init__(self, device_id: int | None, sample_rate: int)
    def start(self) -> None
    def stop(self) -> None
    def pause(self) -> None
    def resume(self) -> None
    def get_audio_data(self) -> np.ndarray

class Transcriber:
    """Whisperã«ã‚ˆã‚‹æ–‡å­—èµ·ã“ã—"""
    def __init__(self, model_size: str, language: str, device: str)
    def transcribe(self, audio: np.ndarray) -> str

class TemplateManager:
    """ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ç®¡ç†"""
    def __init__(self, templates_dir: Path)
    def list_templates(self) -> list[TemplateInfo]
    def get_template(self, name: str) -> Template
    def render(self, template: Template, context: dict) -> str
    def install_builtin_templates(self) -> None  # åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

class MinutesGenerator:
    """ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«ã‚ˆã‚‹è­°äº‹éŒ²ç”Ÿæˆ"""
    def __init__(self, backend: Backend, template_manager: TemplateManager)
    def generate_full(self, transcripts: list[TranscriptEntry], template: Template) -> str
    def generate_incremental(self, current_minutes: str, new_transcripts: list[TranscriptEntry]) -> str

class MinutesUpdater:
    """è­°äº‹éŒ²ã®æ›´æ–°çŠ¶æ…‹ã‚’ç®¡ç†"""
    def __init__(self, generator: MinutesGenerator, output_dir: Path)
    def update(self, transcripts: list[TranscriptEntry], full: bool = False) -> str
    def get_new_transcripts(self, transcripts: list[TranscriptEntry]) -> list[TranscriptEntry]
    def save(self) -> Path
    def get_current_minutes(self) -> str

    # çŠ¶æ…‹
    last_update_index: int  # å‰å›æ›´æ–°æ™‚ã®æ–‡å­—èµ·ã“ã—ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
    update_count: int
    current_minutes: str

class KeyboardHandler:
    """éãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã‚­ãƒ¼å…¥åŠ›ã‚’å‡¦ç†"""
    def __init__(self)
    def get_key(self) -> str | None  # éãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°
    def wait_key(self) -> str  # ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°

class MeetingTranscriber:
    """ãƒ¡ã‚¤ãƒ³ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿ãƒ¼"""
    def __init__(self, config: Config)
    def run(self) -> None
    def handle_key(self, key: str) -> bool  # Falseã§çµ‚äº†
    def save_output(self) -> Path
```

### 6.2 ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹

```python
@dataclass
class Config:
    model_size: str = "small"
    language: str = "ja"
    chunk_duration: float = 5.0
    sample_rate: int = 16000
    device_id: int | None = None
    realtime_display: bool = True

    # LLMãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è¨­å®š
    backend: str = "auto"  # api | claude-agent | claude-cli | auto

    # å‡ºåŠ›è¨­å®š
    output_dir: Path = Path("./output")
    filename_format: str = "meeting_%Y%m%d_%H%M%S"
    obsidian_vault: Path | None = None  # æŒ‡å®šæ™‚ã¯Vaultã«å‡ºåŠ›
    obsidian_folder: str = "meetings"   # Vaultå†…ã®ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€
    open_after: bool = False

    # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­å®š
    template: str = "default"  # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå
    templates_dir: Path = Path("~/.config/meeting-transcriber/templates").expanduser()

    # è­°äº‹éŒ²æ›´æ–°è¨­å®š
    auto_update: bool = False  # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯æ‰‹å‹•æ›´æ–°
    update_interval: int = 120  # è‡ªå‹•æ›´æ–°æ™‚ã®é–“éš”ï¼ˆç§’ï¼‰
    version_history: bool = False

    def get_output_path(self) -> Path:
        """å®Ÿéš›ã®å‡ºåŠ›å…ˆãƒ‘ã‚¹ã‚’å–å¾—"""
        if self.obsidian_vault:
            return self.obsidian_vault / self.obsidian_folder
        return self.output_dir

    def get_template_path(self) -> Path:
        """ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ã‚’å–å¾—"""
        return self.templates_dir / f"{self.template}.md"

@dataclass
class TranscriptEntry:
    timestamp: datetime
    text: str
    index: int  # é€šã—ç•ªå·ï¼ˆå·®åˆ†æ¤œå‡ºç”¨ï¼‰

    def __str__(self) -> str:
        return f"[{self.timestamp.strftime('%H:%M:%S')}] {self.text}"

@dataclass
class TemplateInfo:
    """ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ¡ã‚¿æƒ…å ±"""
    name: str           # ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆæ‹¡å¼µå­ãªã—ï¼‰
    display_name: str   # è¡¨ç¤ºå
    description: str    # èª¬æ˜
    tags: list[str]     # Obsidianç”¨ã‚¿ã‚°

@dataclass
class Template:
    """ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæœ¬ä½“"""
    info: TemplateInfo
    content: str        # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆæœ¬æ–‡
    prompt_hint: str    # Claude APIã¸ã®è¿½åŠ æŒ‡ç¤ºï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

@dataclass
class UpdateResult:
    """æ›´æ–°çµæœ"""
    success: bool
    minutes: str
    new_entries_count: int
    total_entries_count: int
    update_number: int
    error: str | None = None
```

---

## 7. å‡ºåŠ›å½¢å¼

### 7.1 è­°äº‹éŒ²ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰

```markdown
---
date: { { date } }
time: "{{time}}"
duration: "{{duration}}"
tags:
  - meeting
  - auto-generated
aliases:
  - "{{date}} ä¼šè­°"
---

# è­°äº‹éŒ² - {{date}}

## åŸºæœ¬æƒ…å ±

- **æ—¥æ™‚**: {{date}} {{time}} - {{end_time}}
- **å‚åŠ è€…**: ï¼ˆéŸ³å£°ã‹ã‚‰æ¨æ¸¬ã€ã¾ãŸã¯ã€Œä¸æ˜ã€ï¼‰

## è­°é¡Œãƒ»ã‚¢ã‚¸ã‚§ãƒ³ãƒ€

-

## è­°è«–å†…å®¹

### ãƒˆãƒ”ãƒƒã‚¯1

-

## æ±ºå®šäº‹é …

- [ ]

## ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ãƒ†ãƒ 

| æ‹…å½“ | ã‚¿ã‚¹ã‚¯ | æœŸé™ |
| ---- | ------ | ---- |
|      |        |      |

## æ¬¡å›äºˆå®š

-

---

_ã“ã®è­°äº‹éŒ²ã¯AIã«ã‚ˆã£ã¦è‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã—ãŸï¼ˆ{{update_count}}å›æ›´æ–°ï¼‰_
```

â€» ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã¯ `--obsidian-vault` æŒ‡å®šæ™‚ã®ã¿å‡ºåŠ›ï¼ˆé€šå¸¸ãƒ¢ãƒ¼ãƒ‰ã§ã¯çœç•¥å¯ï¼‰

### 7.2 å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

**é€šå¸¸ãƒ¢ãƒ¼ãƒ‰ï¼ˆ`--output`æŒ‡å®šæ™‚ï¼‰:**

```
output/
â”œâ”€â”€ meeting_20241219_143052/
â”‚   â”œâ”€â”€ minutes.md              # æœ€æ–°ã®è­°äº‹éŒ²ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼‰
â”‚   â”œâ”€â”€ minutes_final.md        # æœ€çµ‚ç‰ˆè­°äº‹éŒ²ï¼ˆä¼šè­°çµ‚äº†æ™‚ã«ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ transcript_raw.txt      # ç”Ÿã®æ–‡å­—èµ·ã“ã—ãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ metadata.json           # ãƒ¡ã‚¿æƒ…å ±ï¼ˆé–‹å§‹æ™‚åˆ»ã€ãƒ¢ãƒ‡ãƒ«ç­‰ï¼‰
â”‚   â””â”€â”€ history/                # --version-history æœ‰åŠ¹æ™‚
â”‚       â”œâ”€â”€ minutes_v001.md     # 1å›ç›®æ›´æ–°
â”‚       â”œâ”€â”€ minutes_v002.md     # 2å›ç›®æ›´æ–°
â”‚       â””â”€â”€ ...
```

**Obsidianãƒ¢ãƒ¼ãƒ‰ï¼ˆ`--obsidian-vault`æŒ‡å®šæ™‚ï¼‰:**

```
~/Obsidian/MyVault/
â””â”€â”€ meetings/                   # --obsidian-folder ã§æŒ‡å®š
    â”œâ”€â”€ meeting_20241219_143052.md   # è­°äº‹éŒ²ï¼ˆå˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
    â”œâ”€â”€ meeting_20241219_160030.md
    â””â”€â”€ ...

# é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«ã¯åˆ¥ãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜
~/.local/share/meeting-transcriber/
â””â”€â”€ 20241219_143052/
    â”œâ”€â”€ transcript_raw.txt
    â”œâ”€â”€ metadata.json
    â””â”€â”€ history/
```

**Obsidianç”¨è­°äº‹éŒ²ã®ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼:**

```markdown
---
date: 2024-12-19
time: "14:30:52"
duration: "01:23:45"
tags:
  - meeting
  - auto-generated
---

# è­°äº‹éŒ² - 2024-12-19

## åŸºæœ¬æƒ…å ±

...
```

### 7.3 å®Ÿè¡Œæ™‚ã®è¡¨ç¤ºä¾‹

```
ğŸ™ï¸ éŒ²éŸ³é–‹å§‹...
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ“ä½œ: [u/Enter] æ›´æ–°  [f] ãƒ•ãƒ«æ›´æ–°  [s] ä¿å­˜  [p] ä¸€æ™‚åœæ­¢  [q] çµ‚äº†  [?] ãƒ˜ãƒ«ãƒ—
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[14:30:05] ä»Šæ—¥ã¯æ–°æ©Ÿèƒ½ã®ãƒªãƒªãƒ¼ã‚¹ã«ã¤ã„ã¦è©±ã—åˆã„ãŸã„ã¨æ€ã„ã¾ã™
[14:30:12] ã¾ãšã€é€²æ—çŠ¶æ³ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†
[14:30:25] ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®å®Ÿè£…ã¯å®Œäº†ã—ã¦ã„ã¾ã™
[14:30:35] ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ã‚ã¨2æ—¥ã§å®Œäº†äºˆå®šã§ã™

> u  â† ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ 'u' ã‚­ãƒ¼ã‚’æŠ¼ã™

ğŸ“‹ è­°äº‹éŒ²ã‚’æ›´æ–°ä¸­... (1å›ç›®)
âœ… è­°äº‹éŒ²ã‚’æ›´æ–°ã—ã¾ã—ãŸ â†’ minutes.md
   æ–°è¦ç™ºè¨€: 4ä»¶ | çµŒéæ™‚é–“: 0:00:35
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[14:31:02] ãƒ†ã‚¹ãƒˆã®é€²æ—ã¯ã©ã†ã§ã™ã‹
[14:31:15] å˜ä½“ãƒ†ã‚¹ãƒˆã¯80%å®Œäº†ã€çµåˆãƒ†ã‚¹ãƒˆã¯ã“ã‚Œã‹ã‚‰ã§ã™
[14:31:30] ãƒªãƒªãƒ¼ã‚¹æ—¥ã¯æ¥é€±ã®æ°´æ›œæ—¥ã‚’äºˆå®šã—ã¦ã„ã¾ã™
[14:31:45] å•é¡Œãªã‘ã‚Œã°ãã‚Œã§é€²ã‚ã¾ã—ã‚‡ã†

> u  â† ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ 'u' ã‚­ãƒ¼ã‚’æŠ¼ã™

ğŸ“‹ è­°äº‹éŒ²ã‚’æ›´æ–°ä¸­... (2å›ç›®, å·®åˆ†: 4ä»¶)
âœ… è­°äº‹éŒ²ã‚’æ›´æ–°ã—ã¾ã—ãŸ â†’ minutes.md
   æ–°è¦ç™ºè¨€: 4ä»¶ | çµŒéæ™‚é–“: 0:01:45
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[14:32:10] ä»–ã«è­°é¡Œã¯ã‚ã‚Šã¾ã™ã‹

> q  â† ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ 'q' ã‚­ãƒ¼ã‚’æŠ¼ã™

ğŸ“‹ æœ€çµ‚è­°äº‹éŒ²ã‚’ç”Ÿæˆä¸­...
âœ… å®Œäº†ã—ã¾ã—ãŸ
   å‡ºåŠ›: ./output/20241219_143005/
   - minutes.md (æœ€çµ‚ç‰ˆ)
   - minutes_final.md
   - transcript_raw.txt
```

---

## 8. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### 8.1 å¯¾å¿œã™ã¹ãã‚¨ãƒ©ãƒ¼

| ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥                   | å¯¾å¿œ                                         |
| ---------------------------- | -------------------------------------------- |
| ãƒã‚¤ã‚¯ã‚¢ã‚¯ã‚»ã‚¹å¤±æ•—           | ãƒ‡ãƒã‚¤ã‚¹ä¸€è¦§è¡¨ç¤ºã—ã¦å†é¸æŠã‚’ä¿ƒã™             |
| Whisperãƒ¢ãƒ‡ãƒ«èª­ã¿è¾¼ã¿å¤±æ•—    | ãƒ¢ãƒ‡ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’è©¦è¡Œã€å¤±æ•—æ™‚ã¯ã‚¨ãƒ©ãƒ¼çµ‚äº† |
| CUDAåˆ©ç”¨ä¸å¯                 | è‡ªå‹•çš„ã«CPUãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯                    |
| API Keyæœªè¨­å®š                | ç’°å¢ƒå¤‰æ•°è¨­å®šæ–¹æ³•ã‚’è¡¨ç¤ºï¼ˆAPIæ–¹å¼ã®å ´åˆï¼‰      |
| OAuthãƒˆãƒ¼ã‚¯ãƒ³æœªè¨­å®š/æœŸé™åˆ‡ã‚Œ | `claude setup-token` ã®å®Ÿè¡Œã‚’ä¿ƒã™            |
| APIãƒ¬ãƒ¼ãƒˆåˆ¶é™                | ãƒªãƒˆãƒ©ã‚¤ï¼ˆexponential backoffï¼‰              |
| ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ä¸è¶³             | è­¦å‘Šè¡¨ç¤ºã—ã¦ç¶šè¡Œç¢ºèª                         |
| Claude CLIæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«     | ä»–ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯             |
| Maxãƒ—ãƒ©ãƒ³ ãƒ¬ãƒ¼ãƒˆåˆ¶é™         | å¾…æ©Ÿ or APIã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯                  |

### 8.2 ã‚°ãƒ¬ãƒ¼ã‚¹ãƒ•ãƒ«ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³

- Ctrl+C ã§ã‚¯ãƒªãƒ¼ãƒ³ã«çµ‚äº†
- éŒ²éŸ³ä¸­ã®ãƒ‡ãƒ¼ã‚¿ã¯ä¿å­˜ã—ã¦ã‹ã‚‰çµ‚äº†
- éƒ¨åˆ†çš„ãªæ–‡å­—èµ·ã“ã—ã§ã‚‚è­°äº‹éŒ²ç”Ÿæˆã‚’è©¦è¡Œ

---

## 9. å®Ÿè£…å„ªå…ˆé †ä½

### Phase 1: MVPï¼ˆå¿…é ˆæ©Ÿèƒ½ï¼‰

1. åŸºæœ¬çš„ãªéŸ³å£°éŒ²éŸ³æ©Ÿèƒ½
2. Whisperã«ã‚ˆã‚‹ãƒãƒ£ãƒ³ã‚¯å˜ä½ã®æ–‡å­—èµ·ã“ã—
3. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ–‡å­—èµ·ã“ã—è¡¨ç¤º
4. **æ‰‹å‹•ãƒˆãƒªã‚¬ãƒ¼ã«ã‚ˆã‚‹è­°äº‹éŒ²æ›´æ–°ï¼ˆå·®åˆ†æ–¹å¼ï¼‰** â† ãƒ¡ã‚¤ãƒ³æ©Ÿèƒ½
5. Claude APIã«ã‚ˆã‚‹è­°äº‹éŒ²ç”Ÿæˆ
6. Markdownå½¢å¼ã§ã®å‡ºåŠ›
7. ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œï¼ˆu: æ›´æ–°, q: çµ‚äº†ï¼‰
8. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ1ã¤

### Phase 2: æ”¹å–„

1. ãƒ•ãƒ«æ›´æ–°ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆfã‚­ãƒ¼ï¼‰
2. ä¸€æ™‚åœæ­¢/å†é–‹æ©Ÿèƒ½
3. ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³å¼•æ•°å¯¾å¿œ
4. **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠæ©Ÿèƒ½ï¼ˆ-t ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰**
5. **ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ1on1, brainstorm, standup, clientï¼‰**
6. Obsidian Vaultå‡ºåŠ›å¯¾å¿œ
7. ãƒãƒ¼ã‚¸ãƒ§ãƒ³å±¥æ­´ä¿å­˜
8. è‡ªå‹•æ›´æ–°ãƒ¢ãƒ¼ãƒ‰ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
9. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å¯¾å¿œ

### Phase 3: æ‹¡å¼µï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

1. è©±è€…åˆ†é›¢ï¼ˆpyannote-audioï¼‰
2. Web UIï¼ˆGradio/Streamlitï¼‰ã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è­°äº‹éŒ²è¡¨ç¤º
3. æ—¢å­˜éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®å‡¦ç†å¯¾å¿œ
4. ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆã‚¬ã‚¤ãƒ‰
5. WebSocketçµŒç”±ã§ãƒ–ãƒ©ã‚¦ã‚¶ã«ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é…ä¿¡

---

## 10. ãƒ†ã‚¹ãƒˆè¦ä»¶

### 10.1 å‹•ä½œç¢ºèªé …ç›®

- \[ ] ãƒã‚¤ã‚¯å…¥åŠ›ãŒæ­£å¸¸ã«å–å¾—ã§ãã‚‹
- \[ ] 5ç§’ç¨‹åº¦ã®ç™ºè©±ãŒæ–‡å­—èµ·ã“ã—ã•ã‚Œã‚‹
- \[ ] æ—¥æœ¬èªãŒæ­£ã—ãèªè­˜ã•ã‚Œã‚‹
- \[ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ–‡å­—èµ·ã“ã—ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- \[ ] `u`ã‚­ãƒ¼ã§è­°äº‹éŒ²ãŒæ›´æ–°ã•ã‚Œã‚‹
- \[ ] 2å›ç›®ä»¥é™ã®æ›´æ–°ã§å·®åˆ†ãŒæ­£ã—ãåæ˜ ã•ã‚Œã‚‹
- \[ ] `f`ã‚­ãƒ¼ã§ãƒ•ãƒ«æ›´æ–°ãŒã§ãã‚‹
- \[ ] `q`ã‚­ãƒ¼ã§æ­£å¸¸çµ‚äº†ã—æœ€çµ‚è­°äº‹éŒ²ãŒç”Ÿæˆã•ã‚Œã‚‹
- \[ ] ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ãä¿å­˜ã•ã‚Œã‚‹
- \[ ] æ›´æ–°ä¸­ã‚‚éŒ²éŸ³ãŒç¶™ç¶šã•ã‚Œã‚‹
- \[ ] `--obsidian-vault` æŒ‡å®šæ™‚ã«Vaultã«å‡ºåŠ›ã•ã‚Œã‚‹
- \[ ] Obsidianå‡ºåŠ›æ™‚ã«ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ãŒä»˜ä¸ã•ã‚Œã‚‹
- \[ ] è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ãèª­ã¿è¾¼ã¾ã‚Œã‚‹
- \[ ] `--list-templates` ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- \[ ] `-t` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§æŒ‡å®šã—ãŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒä½¿ç”¨ã•ã‚Œã‚‹
- \[ ] ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãŒæ­£ã—ãç½®æ›ã•ã‚Œã‚‹
- \[ ] `--backend api` ã§APIçµŒç”±ã®è­°äº‹éŒ²ç”ŸæˆãŒã§ãã‚‹
- \[ ] `--backend claude-agent` ã§Claude Agent SDKçµŒç”±ã®ç”ŸæˆãŒã§ãã‚‹
- \[ ] `--backend claude-cli` ã§Claude Code CLIçµŒç”±ã®ç”ŸæˆãŒã§ãã‚‹
- \[ ] `--backend auto` ã§é©åˆ‡ãªãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒé¸æŠã•ã‚Œã‚‹
- \[ ] å„ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®èªè¨¼æƒ…å ±ãŒãªã„å ´åˆã«é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹

### 10.2 ãƒ†ã‚¹ãƒˆç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```bash
# ãƒ‡ãƒã‚¤ã‚¹ç¢ºèª
python meeting_transcriber.py --list-devices

# åŸºæœ¬ãƒ†ã‚¹ãƒˆï¼ˆæ‰‹å‹•ã§æ“ä½œã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è‡ªå‹•é¸æŠï¼‰
python meeting_transcriber.py

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰æŒ‡å®šãƒ†ã‚¹ãƒˆ
python meeting_transcriber.py --backend api            # APIæ–¹å¼
python meeting_transcriber.py --backend claude-agent   # Claude Agent SDKæ–¹å¼
python meeting_transcriber.py --backend claude-cli     # Claude Code CLIæ–¹å¼

# Obsidianå‡ºåŠ›ãƒ†ã‚¹ãƒˆ
python meeting_transcriber.py --obsidian-vault ~/Obsidian/TestVault

# è‡ªå‹•æ›´æ–°ãƒ¢ãƒ¼ãƒ‰ã§ãƒ†ã‚¹ãƒˆ
python meeting_transcriber.py --auto-update --update-interval 30

# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ã‚’ç¢ºèª
python meeting_transcriber.py --show-config

# ãƒ•ãƒ«æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆï¼ˆMaxãƒ—ãƒ©ãƒ³ + 1on1 + Obsidianï¼‰
python meeting_transcriber.py -b claude-cli -t 1on1 --obsidian-vault ~/Obsidian/TestVault
```

### 10.3 ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª

**ã‚·ãƒŠãƒªã‚ª1: åŸºæœ¬æ“ä½œ**

1. èµ·å‹•ã—ã¦30ç§’ç¨‹åº¦ç™ºè©±
2. `u`ã‚­ãƒ¼ã§æ›´æ–° â†’ è­°äº‹éŒ²ãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
3. ã•ã‚‰ã«30ç§’ç™ºè©±
4. `u`ã‚­ãƒ¼ã§æ›´æ–° â†’ å·®åˆ†ãŒåæ˜ ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
5. `q`ã‚­ãƒ¼ã§çµ‚äº†

**ã‚·ãƒŠãƒªã‚ª2: ãƒ•ãƒ«æ›´æ–°**

1. èµ·å‹•ã—ã¦ç™ºè©±
2. `u`ã‚­ãƒ¼ã§æ•°å›æ›´æ–°
3. `f`ã‚­ãƒ¼ã§ãƒ•ãƒ«æ›´æ–° â†’ å…¨ä½“ãŒå†æ§‹æˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

**ã‚·ãƒŠãƒªã‚ª3: Obsidianå‡ºåŠ›**

1. `--obsidian-vault ~/Obsidian/TestVault` ã§èµ·å‹•
2. ç™ºè©±ã—ã¦ `u`ã‚­ãƒ¼ã§æ›´æ–°
3. `q`ã‚­ãƒ¼ã§çµ‚äº†
4. Obsidian Vaultã«è­°äº‹éŒ²ãŒä½œæˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
5. ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª

**ã‚·ãƒŠãƒªã‚ª4: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆåˆ‡ã‚Šæ›¿ãˆ**

1. `--list-templates` ã§ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§ã‚’ç¢ºèª
2. `-t 1on1` ã§èµ·å‹•
3. ç™ºè©±ã—ã¦ `u`ã‚­ãƒ¼ã§æ›´æ–°
4. 1on1ç”¨ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§è­°äº‹éŒ²ãŒç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
5. `-t brainstorm` ã§å†åº¦èµ·å‹•ã—ã€ç•°ãªã‚‹ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«ãªã‚‹ã“ã¨ã‚’ç¢ºèª

**ã‚·ãƒŠãƒªã‚ª5: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åˆ‡ã‚Šæ›¿ãˆ**

1. `--backend api` ã§èµ·å‹• â†’ APIãŒä½¿ç”¨ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
2. `--backend claude-agent` ã§èµ·å‹• â†’ Claude Agent SDKãŒä½¿ç”¨ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
3. `--backend claude-cli` ã§èµ·å‹• â†’ Claude Code CLIãŒä½¿ç”¨ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
4. `--backend auto` ã§èµ·å‹• â†’ é©åˆ‡ãªãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒè‡ªå‹•é¸æŠã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
5. ç’°å¢ƒå¤‰æ•°ãªã—ã§ `--backend auto` â†’ åˆ©ç”¨å¯èƒ½ãªæ–¹å¼ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã™ã‚‹ã“ã¨ã‚’ç¢ºèª

---

## 11. æ³¨æ„äº‹é …

### 11.1 ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- APIã‚­ãƒ¼ã¯ç’°å¢ƒå¤‰æ•°ã¾ãŸã¯.envãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ï¼ˆ.gitignoreå¿…é ˆï¼‰
- éŸ³å£°ãƒ‡ãƒ¼ã‚¿ã¯ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†ã€å¤–éƒ¨é€ä¿¡ã—ãªã„ï¼ˆWhisperã¯ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œï¼‰
- Claude APIã¸ã¯æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆã®ã¿é€ä¿¡

### 11.2 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

- GPUãŒã‚ã‚‹å ´åˆã¯`device="cuda"`ã‚’ä½¿ç”¨
- ãƒ¡ãƒ¢ãƒª8GBä»¥ä¸Šæ¨å¥¨ï¼ˆmediumãƒ¢ãƒ‡ãƒ«ä½¿ç”¨æ™‚ï¼‰
- smallãƒ¢ãƒ‡ãƒ«ã§ååˆ†ãªç²¾åº¦ãŒå¾—ã‚‰ã‚Œã‚‹å ´åˆãŒå¤šã„

### 11.3 ã‚³ã‚¹ãƒˆæ¯”è¼ƒï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åˆ¥ï¼‰

#### APIæ–¹å¼ï¼ˆå¾“é‡èª²é‡‘ï¼‰

```
Claude Sonnet æ–™é‡‘:
  å…¥åŠ›: $3 / 1M tokens
  å‡ºåŠ›: $15 / 1M tokens

1æ™‚é–“ä¼šè­°ã§5å›æ›´æ–°ã—ãŸå ´åˆ:
  â†’ ç´„10k tokens â†’ ç´„ $0.03ã€œ0.05

æœˆ100å›ä¼šè­°: ç´„ $3ã€œ5
```

#### Claude Agent SDK / Claude CLIæ–¹å¼ï¼ˆMaxãƒ—ãƒ©ãƒ³ï¼‰

```
Maxãƒ—ãƒ©ãƒ³æ–™é‡‘:
  Max5:  $100/æœˆï¼ˆ5å€ã®ä½¿ç”¨é‡ï¼‰
  Max20: $200/æœˆï¼ˆ20å€ã®ä½¿ç”¨é‡ï¼‰

è­°äº‹éŒ²ç”Ÿæˆã¯Maxãƒ—ãƒ©ãƒ³ã®ä½¿ç”¨é‡ã«ã‚«ã‚¦ãƒ³ãƒˆ
â†’ è¿½åŠ ã‚³ã‚¹ãƒˆãªã—ï¼ˆãƒ—ãƒ©ãƒ³å†…ï¼‰

æ³¨æ„:
  - ä»–ã®Claudeä½¿ç”¨ã¨åˆç®—ã•ã‚Œã‚‹
  - ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã«é”ã™ã‚‹å¯èƒ½æ€§ã‚ã‚Š
  - å¤§é‡ã®ä¼šè­°ãŒã‚ã‚‹å ´åˆã¯APIæ–¹å¼æ¨å¥¨
```

#### ã©ã¡ã‚‰ã‚’é¸ã¶ã¹ãã‹

| ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹                    | æ¨å¥¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰        |
| ------------------------------- | ----------------------- |
| Maxãƒ—ãƒ©ãƒ³åŠ å…¥æ¸ˆã¿ã€å®‰å®šæ€§é‡è¦–   | `claude-cli`            |
| Maxãƒ—ãƒ©ãƒ³åŠ å…¥æ¸ˆã¿ã€ã‚¯ãƒªãƒ¼ãƒ³å®Ÿè£… | `claude-agent`          |
| Maxãƒ—ãƒ©ãƒ³åŠ å…¥æ¸ˆã¿ã€ä¼šè­°å¤šã‚     | `api`ï¼ˆãƒ¬ãƒ¼ãƒˆåˆ¶é™å›é¿ï¼‰ |
| Maxãƒ—ãƒ©ãƒ³æœªåŠ å…¥                 | `api`                   |

**ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼ˆautoï¼‰ã®æŒ™å‹•:**

1. `CLAUDE_CODE_OAUTH_TOKEN` ã‚ã‚Š â†’ `claude-agent`
2. `claude` CLI ãŒåˆ©ç”¨å¯èƒ½ â†’ `claude-cli`
3. `ANTHROPIC_API_KEY` ã‚ã‚Š â†’ `api`

### 11.4 æ—¢çŸ¥ã®åˆ¶é™

- è¤‡æ•°è©±è€…ã®åŒºåˆ¥ã¯åŸºæœ¬æ©Ÿèƒ½ã§ã¯éå¯¾å¿œ
- é›‘éŸ³ã®å¤šã„ç’°å¢ƒã§ã¯èªè­˜ç²¾åº¦ä½ä¸‹
- é•·æ™‚é–“ï¼ˆ2æ™‚é–“ä»¥ä¸Šï¼‰ã®ä¼šè­°ã¯ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã«æ³¨æ„

### 11.5 å®Ÿè£…ä¸Šã®æ³¨æ„ç‚¹

#### éãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã‚­ãƒ¼å…¥åŠ›

éŒ²éŸ³ä¸­ã‚‚ã‚­ãƒ¼å…¥åŠ›ã‚’å—ã‘ä»˜ã‘ã‚‹ãŸã‚ã€éãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°æ–¹å¼ãŒå¿…è¦:

```python
# Linuxå‘ã‘å®Ÿè£…ä¾‹
import sys
import select
import termios
import tty

def get_key_nonblocking() -> str | None:
    """éãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã§ã‚­ãƒ¼å…¥åŠ›ã‚’å–å¾—"""
    if select.select([sys.stdin], [], [], 0)[0]:
        return sys.stdin.read(1)
    return None

# ã¾ãŸã¯ curses / readchar ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨
```

#### ã‚¹ãƒ¬ãƒƒãƒ‰æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Main Thread                                                â”‚
â”‚  â””â”€ ã‚­ãƒ¼å…¥åŠ›ç›£è¦– + è¡¨ç¤ºåˆ¶å¾¡                                  â”‚
â”‚                                                             â”‚
â”‚  Audio Thread (daemon)                                      â”‚
â”‚  â””â”€ sounddevice callback â†’ audio_queue                     â”‚
â”‚                                                             â”‚
â”‚  Transcribe Thread (daemon)                                 â”‚
â”‚  â””â”€ audio_queue â†’ Whisper â†’ transcript_list                â”‚
â”‚                                                             â”‚
â”‚  Update Thread (on-demand)                                  â”‚
â”‚  â””â”€ 'u'ã‚­ãƒ¼æŠ¼ä¸‹æ™‚ã«èµ·å‹• â†’ Claude API â†’ minutesæ›´æ–°          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 12. å‚è€ƒãƒªãƒ³ã‚¯

- [faster-whisper GitHub](https://github.com/SYSTRAN/faster-whisper)
- [Anthropic API Documentation](https://docs.anthropic.com/)
- [Claude Agent SDK (PyPI)](https://pypi.org/project/claude-agent-sdk/)
- [Claude Agent SDK (GitHub)](https://github.com/anthropics/claude-agent-sdk-python)
- [sounddevice Documentation](https://python-sounddevice.readthedocs.io/)
